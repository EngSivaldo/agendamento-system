{% extends "base.html" %}

{% block title %}
    {{ 'Editar Serviço' if service else 'Novo Serviço' }} | Admin
{% endblock %}

{% block content %}
<div class="row">
    {% include "admin/admin_sidebar.html" %}
    
    <div class="col-md-9">
        
        <h2 class="mb-5 text-warning fw-light border-bottom border-warning pb-2">
            <i class="fas fa-tools me-2"></i> 
            {{ 'Editar Serviço' if service else 'Cadastrar Novo Serviço' }}
        </h2>
        
        <div class="card bg-dark shadow-epic border border-secondary">
            <div class="card-body p-4">
                
                {% set form_action = url_for('admin.edit_service', service_id=service.id) if service else url_for('admin.new_service') %}
                <form method="POST" action="{{ form_action }}">
                    
                    <div class="mb-4">
                        <label for="nome" class="form-label text-white-50 fw-bold">
                            <i class="fas fa-tag me-2 text-warning"></i> Nome do Serviço:
                        </label>
                        <input type="text" class="form-control bg-dark text-white border-secondary" id="nome" name="nome" value="{{ service.nome or '' }}" required>
                    </div>
                    
                    <div class="mb-4">
                        <label for="duracao" class="form-label text-white-50 fw-bold">
                            <i class="fas fa-hourglass-half me-2 text-warning"></i> Duração (Minutos):
                        </label>
                        <input type="number" class="form-control bg-dark text-white border-secondary" id="duracao" name="duracao" value="{{ service.duracao or '' }}" required min="1" placeholder="Ex: 60 (para 1 hora)">
                    </div>
                    
                    <div class="mb-4">
                        <label for="descricao" class="form-label text-white-50 fw-bold">
                            <i class="fas fa-info-circle me-2 text-warning"></i> Descrição do Serviço:
                        </label>
                        <textarea class="form-control bg-dark text-white border-secondary" id="descricao" name="descricao" rows="4" placeholder="Detalhes do que o cliente irá receber.">{{ service.descricao or '' }}</textarea>
                    </div>
                    
                    <div class="mt-4 pt-3 border-top border-secondary">
                        <button type="submit" class="btn btn-warning fw-bold me-3">
                            <i class="fas fa-save me-2"></i> 
                            {{ 'Salvar Alterações' if service else 'Criar Serviço' }}
                        </button>
                        <a href="{{ url_for('admin.manage_services') }}" class="btn btn-secondary">
                            <i class="fas fa-times me-2"></i> Cancelar
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}